{% extends 'base.html' %}
{% load static %}

<link rel="stylesheet" href="{% static 'products.css' %}"/>
{% block title%} {{product.name}} {{% enblock%}

{% block content%}

    <div>
        <h2>{{product.name}}</h2>
        <p>{{product.desc}}</p>
        <h3>{{product.price}}</h3>

        <span><button>Add to cart</button>
            <span>
                <button>-</button>
                <p>1</p>
                <button>+</button>
            </span>
        </span>

        <p>{% with reviews=product.get_num_reviews ratings=product.average_rating%}</p>
          <h2>Ratings: {{ ratings}}</h2>
          <p>Review: ({{reviews}})</p>
          {% endwith %}
        <div class="reviews">
          {% for rating in product.ratings.all%}
          <p>comment: {{rating.remark}}-{{rating.rating}}</p>
        {% endfor %}
        </div>
    </div>
    <div>
        <h2>Related products</h2>
        <div style="display:grid; grid-template-columns:1fr 1fr; padding:20px; gap: 20px; background-color: #fff"
        {% for product in related_products%}
        <a href="{% url 'product' product.id %}"
        <div>
            <h3>{{product.name}}</h3>
            <h3>{{product.price}}</h3>
            <p>Seller:{{product.store.name}}
            </div>
            {% endfor %}
        </div> 
    </a>
    {% endfor %} 
        
        
{% endblock%}

{% comment %} four components of templates
1. tags 
2. filter 
3. variable
4. comment
    comment %}{% endfilter %} {% endcomment %}